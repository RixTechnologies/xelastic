<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module xelastic</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>xelastic</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:c%3A%5Cproto%5Ces_manage%5Cmdl%5Cxelastic.py">c:\proto\es_manage\mdl\xelastic.py</a></font></td></tr></table>
    <p><tt>Created&nbsp;on&nbsp;Wed&nbsp;Apr&nbsp;14&nbsp;10:56:39&nbsp;2021<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Elasticsearch&nbsp;interface&nbsp;class.&nbsp;Provides&nbsp;easy&nbsp;handling&nbsp;of&nbsp;scroll&nbsp;and&nbsp;bulk<br>
&nbsp;&nbsp;&nbsp;&nbsp;requests&nbsp;as&nbsp;well&nbsp;as&nbsp;handling&nbsp;of&nbsp;time&nbsp;split&nbsp;indexes.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;External&nbsp;methods<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setSource<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indexName<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;request<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getIndexes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deleteIndexes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getData<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getDataX<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;save<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;existsIndex<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;countIndex<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;queryIndex<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aggIndex<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;queryBuckets<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;queryCardinality<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setRefresh<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;createTermFilter<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setUpdBody<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;updateFields<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;updateFieldsById<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==========&nbsp;Scroll&nbsp;API<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scroll_set<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scroll_total<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scroll<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scroll_close<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==========&nbsp;Bulk&nbsp;API<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bulk_set<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bulk_index<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bulk_close<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==========<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;termvectors<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mlt<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;<a href="#xelastic">xelastic</a>&nbsp;class&nbsp;uses&nbsp;index&nbsp;names&nbsp;of&nbsp;the&nbsp;format:&nbsp;prefix-stub-source-span<br>
&nbsp;&nbsp;&nbsp;&nbsp;Where<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prefix&nbsp;is&nbsp;shared&nbsp;by&nbsp;all&nbsp;indexes&nbsp;of&nbsp;the&nbsp;application<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stub&nbsp;identifies&nbsp;indexes&nbsp;of&nbsp;a&nbsp;particular&nbsp;type<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source&nbsp;identifies&nbsp;a&nbsp;particular&nbsp;data&nbsp;set<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span&nbsp;identifies&nbsp;a&nbsp;particular&nbsp;time&nbsp;period&nbsp;(span)<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;prefix-stub&nbsp;is&nbsp;used&nbsp;in&nbsp;index&nbsp;templates&nbsp;thus&nbsp;these&nbsp;are&nbsp;indexes&nbsp;with&nbsp;identic<br>
&nbsp;&nbsp;&nbsp;&nbsp;settings&nbsp;and&nbsp;mappings<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;esconf&nbsp;is&nbsp;the&nbsp;dictionary&nbsp;of&nbsp;the&nbsp;following&nbsp;form<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connection:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;current:&nbsp;&lt;name&nbsp;of&nbsp;the&nbsp;selected&nbsp;connection&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Name&nbsp;of&nbsp;the&nbsp;connection&nbsp;1&gt;:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client:&nbsp;&lt;client&nbsp;url&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cert:&nbsp;&lt;path&nbsp;to&nbsp;the&nbsp;certificte&nbsp;file&gt;,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;usr:&nbsp;[&lt;user&nbsp;name&gt;,&nbsp;&lt;password&gt;]&nbsp;for&nbsp;authentification,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Name&nbsp;of&nbsp;the&nbsp;connection&nbsp;2&gt;:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prefix:&nbsp;&lt;prefix&nbsp;of&nbsp;the&nbsp;application&nbsp;index&nbsp;names&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source:&nbsp;&lt;application&nbsp;default&nbsp;source&nbsp;ID&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indexes:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;index&nbsp;key&nbsp;1&gt;:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stub:&nbsp;&lt;stub&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span_type:&nbsp;&lt;valid&nbsp;span&nbsp;type&nbsp;id:&nbsp;d,&nbsp;m,&nbsp;q,&nbsp;y&nbsp;or&nbsp;n&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;date_field:&nbsp;&lt;date&nbsp;field&nbsp;to&nbsp;split&nbsp;the&nbsp;indexes&nbsp;on&gt;,&nbsp;must&nbsp;be&nbsp;set<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;all&nbsp;span&nbsp;types&nbsp;except&nbsp;n<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shared:&nbsp;&lt;True&nbsp;or&nbsp;False&gt;,&nbsp;specifies&nbsp;the&nbsp;index&nbsp;shared&nbsp;for&nbsp;all<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sources,&nbsp;default&nbsp;False,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;index&nbsp;key&nbsp;2&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keep:&nbsp;&lt;time&nbsp;to&nbsp;keep&nbsp;scroll&nbsp;batch&gt;&nbsp;defaults&nbsp;to&nbsp;'10s'<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scroll_size:&nbsp;&lt;amoun&nbsp;of&nbsp;the&nbsp;scroll&nbsp;batch&nbsp;in&nbsp;bytes&gt;&nbsp;defaults&nbsp;to&nbsp;100<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_buckets:&nbsp;&lt;maximum&nbsp;buckets&nbsp;in&nbsp;es&nbsp;aggregation&gt;,&nbsp;defaults&nbsp;to&nbsp;99<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index_bulk:&nbsp;&lt;number&nbsp;of&nbsp;rows&nbsp;in&nbsp;an&nbsp;index&nbsp;bulk&gt;,&nbsp;defaults&nbsp;to&nbsp;1000<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;high:&nbsp;&lt;Maximum&nbsp;allowed&nbsp;used&nbsp;disk&nbsp;space&nbsp;%&gt;,&nbsp;defaults&nbsp;to&nbsp;90%,&nbsp;execution<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;aborted&nbsp;if&nbsp;the&nbsp;used&nbsp;space&nbsp;is&nbsp;higher<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;headers:&nbsp;&lt;headers&nbsp;for&nbsp;the&nbsp;http&nbsp;request&gt;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaults&nbsp;to&nbsp;{Content-Type:&nbsp;application/json}<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Response&nbsp;codes:&nbsp;200&nbsp;(ok),&nbsp;201&nbsp;(created&nbsp;succesfully),&nbsp;400&nbsp;(bad&nbsp;request),&nbsp;401&nbsp;(not&nbsp;authorised)<br>
&nbsp;<br>
@author:&nbsp;juris.rats</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="copy.html">copy</a><br>
<a href="json.html">json</a><br>
</td><td width="25%" valign=top><a href="logging.html">logging</a><br>
<a href="requests.html">requests</a><br>
</td><td width="25%" valign=top><a href="time.html">time</a><br>
<a href="urllib.html">urllib</a><br>
</td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="builtins.html#object">builtins.object</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="xelastic.html#xelastic">xelastic</a>
</font></dt></dl>
</dd>
</dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="xelastic">class <strong>xelastic</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#xelastic">xelastic</a>(esconf:&nbsp;dict,&nbsp;index_key=None,&nbsp;terms=None,&nbsp;mode=None)<br>
&nbsp;<br>
<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="xelastic-__init__"><strong>__init__</strong></a>(self, esconf: dict, index_key=None, terms=None, mode=None)</dt><dd><tt>Initializes&nbsp;the&nbsp;instance:<br>
&nbsp;&nbsp;&nbsp;&nbsp;esconf&nbsp;-&nbsp;configuration&nbsp;dictionary&nbsp;for&nbsp;the&nbsp;Elasticsearch&nbsp;connection<br>
&nbsp;&nbsp;&nbsp;&nbsp;index_key&nbsp;-&nbsp;the&nbsp;index&nbsp;key&nbsp;for&nbsp;the&nbsp;instance<br>
&nbsp;&nbsp;&nbsp;&nbsp;terms&nbsp;-&nbsp;terms&nbsp;dictionary&nbsp;of&nbsp;form&nbsp;{key1:&nbsp;value1,&nbsp;key2:&nbsp;value2,&nbsp;...}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;handle&nbsp;subset&nbsp;of&nbsp;the&nbsp;data<br>
&nbsp;&nbsp;&nbsp;&nbsp;mode&nbsp;-&nbsp;may&nbsp;set&nbsp;mode&nbsp;for&nbsp;all&nbsp;requests&nbsp;for&nbsp;the&nbsp;current&nbsp;class&nbsp;instance</tt></dd></dl>

<dl><dt><a name="xelastic-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="xelastic-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="xelastic-aggIndex"><strong>aggIndex</strong></a>(self, body: dict, mode: str = None) -&gt; Optional[list]</dt><dd><tt>Returns&nbsp;list&nbsp;of&nbsp;returned&nbsp;rows&nbsp;of&nbsp;aggregated&nbsp;values&nbsp;and&nbsp;count&nbsp;of&nbsp;documents&nbsp;in&nbsp;smaller&nbsp;groups<br>
Adds&nbsp;self.<strong>filter</strong>&nbsp;if&nbsp;set</tt></dd></dl>

<dl><dt><a name="xelastic-bulk_close"><strong>bulk_close</strong></a>(self, mode=None)</dt><dd><tt>Flushes&nbsp;the&nbsp;last&nbsp;batch&nbsp;to&nbsp;the&nbsp;index&nbsp;and&nbsp;sets&nbsp;refresh&nbsp;interval&nbsp;to&nbsp;1&nbsp;second<br>
&nbsp;<br>
Returns&nbsp;True&nbsp;if&nbsp;no&nbsp;errors&nbsp;in&nbsp;flush&nbsp;and&nbsp;setRefresh</tt></dd></dl>

<dl><dt><a name="xelastic-bulk_index"><strong>bulk_index</strong></a>(self, item, action=None, xid=None, mode=None)</dt><dd><tt>Adds&nbsp;the&nbsp;item&nbsp;data&nbsp;to&nbsp;the&nbsp;bulk.&nbsp;If&nbsp;bulk&nbsp;full&nbsp;flush&nbsp;it</tt></dd></dl>

<dl><dt><a name="xelastic-bulk_set"><strong>bulk_set</strong></a>(self, refresh=None, refresh_interval=None, bulk_max=None, mode=None)</dt><dd><tt>Initializes&nbsp;a&nbsp;bulk&nbsp;index<br>
If&nbsp;included&nbsp;in&nbsp;the&nbsp;call&nbsp;bulk_max&nbsp;overrides&nbsp;one&nbsp;set&nbsp;on&nbsp;class&nbsp;initialization<br>
&nbsp;<br>
refresh&nbsp;is&nbsp;transfered&nbsp;to&nbsp;the&nbsp;request&nbsp;method.&nbsp;Possible&nbsp;values&nbsp;-&nbsp;None<br>
&nbsp;<br>
Sets&nbsp;the&nbsp;refresh&nbsp;interval&nbsp;if&nbsp;specified&nbsp;in&nbsp;&lt;refresh_interval&gt;<br>
&nbsp;<br>
Mode&nbsp;not&nbsp;used&nbsp;in&nbsp;this&nbsp;call</tt></dd></dl>

<dl><dt><a name="xelastic-countIndex"><strong>countIndex</strong></a>(self, body=None, mode=None)</dt><dd><tt>Counts&nbsp;the&nbsp;items&nbsp;in&nbsp;index_key&nbsp;according&nbsp;to&nbsp;the&nbsp;criteria&nbsp;in&nbsp;body<br>
Adds&nbsp;self.<strong>filter</strong>&nbsp;if&nbsp;set</tt></dd></dl>

<dl><dt><a name="xelastic-createTermFilter"><strong>createTermFilter</strong></a>(self, terms: dict)</dt><dd><tt>Creates&nbsp;terms&nbsp;filter&nbsp;([{"term":&nbsp;{&lt;field&gt;:&nbsp;&lt;value&gt;}},&nbsp;...])&nbsp;from&nbsp;the<br>
&lt;terms&gt;&nbsp;dictionary</tt></dd></dl>

<dl><dt><a name="xelastic-deleteIndexes"><strong>deleteIndexes</strong></a>(self, indexes, mode=None)</dt><dd><tt>Deletes&nbsp;indexes&nbsp;of&nbsp;the&nbsp;list&nbsp;&lt;indexes&gt;<br>
Returns&nbsp;True&nbsp;if&nbsp;all&nbsp;indexes&nbsp;deleted&nbsp;succesfully</tt></dd></dl>

<dl><dt><a name="xelastic-end"><strong>end</strong></a>(self, span: str) -&gt; Optional[int]</dt><dd><tt>Returns&nbsp;the&nbsp;end&nbsp;epoch&nbsp;of&nbsp;the&nbsp;span</tt></dd></dl>

<dl><dt><a name="xelastic-existsIndex"><strong>existsIndex</strong></a>(self, mode=None)</dt><dd><tt>Returns&nbsp;True&nbsp;if&nbsp;index&nbsp;exists,&nbsp;false&nbsp;otherwise</tt></dd></dl>

<dl><dt><a name="xelastic-getData"><strong>getData</strong></a>(self, xid, mode=None)</dt><dd><tt>Retrieve&nbsp;data&nbsp;for&nbsp;&lt;xid&gt;&nbsp;from&nbsp;the&nbsp;current&nbsp;index<br>
&nbsp;<br>
Returns&nbsp;the&nbsp;item&nbsp;data&nbsp;(_source)&nbsp;or&nbsp;None&nbsp;if&nbsp;item&nbsp;with&nbsp;id&nbsp;&lt;xid&gt;&nbsp;not&nbsp;found</tt></dd></dl>

<dl><dt><a name="xelastic-getDataX"><strong>getDataX</strong></a>(self, xid, mode=None)</dt><dd><tt>Retrieve&nbsp;data&nbsp;for&nbsp;&lt;xid&gt;&nbsp;from&nbsp;the&nbsp;current&nbsp;index<br>
&nbsp;<br>
Returns&nbsp;the&nbsp;full&nbsp;json&nbsp;(_source&nbsp;and&nbsp;metadata)&nbsp;or&nbsp;None&nbsp;if&nbsp;item&nbsp;with&nbsp;id&nbsp;&lt;xid&gt;&nbsp;not&nbsp;found</tt></dd></dl>

<dl><dt><a name="xelastic-getIndexes"><strong>getIndexes</strong></a>(self)</dt><dd><tt>Return&nbsp;a&nbsp;list&nbsp;of&nbsp;existing&nbsp;index&nbsp;names&nbsp;for&nbsp;the&nbsp;index&nbsp;key</tt></dd></dl>

<dl><dt><a name="xelastic-indexName"><strong>indexName</strong></a>(self, epoch: int = None) -&gt; Optional[str]</dt><dd><tt>Get&nbsp;index&nbsp;name&nbsp;for&nbsp;the&nbsp;stub,&nbsp;source&nbsp;and&nbsp;epoch.<br>
&nbsp;<br>
If&nbsp;span_type&nbsp;==&nbsp;'n'&nbsp;SPAN_ALL&nbsp;is&nbsp;used&nbsp;as&nbsp;span&nbsp;in&nbsp;the&nbsp;index&nbsp;name<br>
Otherwise<br>
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;epoch&nbsp;set&nbsp;span&nbsp;is&nbsp;calculated&nbsp;from&nbsp;the&nbsp;epoch<br>
&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;*&nbsp;is&nbsp;used&nbsp;for&nbsp;span&nbsp;(all&nbsp;spans&nbsp;addressed)</tt></dd></dl>

<dl><dt><a name="xelastic-mlt"><strong>mlt</strong></a>(self, xids: list, mlt_conf: dict, mode=None) -&gt; dict</dt><dd><tt>Retrieves&nbsp;more-like-this&nbsp;query&nbsp;for&nbsp;&lt;xids&gt;&nbsp;and&nbsp;configuration&nbsp;&lt;mlt_conf&gt;</tt></dd></dl>

<dl><dt><a name="xelastic-queryBuckets"><strong>queryBuckets</strong></a>(self, field: str, query: Dict[str, Any] = None, max_buckets: int = None, quiet: bool = False, mode=None) -&gt; Tuple[Dict[str, int], int]</dt><dd><tt>Retrieves&nbsp;the&nbsp;buckets&nbsp;data&nbsp;on&nbsp;&lt;field&gt;.<br>
&nbsp;<br>
Returns&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;form&nbsp;key:&nbsp;doc&nbsp;count,&nbsp;and&nbsp;the&nbsp;number&nbsp;of&nbsp;other<br>
documents&nbsp;(not&nbsp;aggregated)<br>
&nbsp;<br>
If&nbsp;quiet==False&nbsp;logs&nbsp;sum_other_doc_count</tt></dd></dl>

<dl><dt><a name="xelastic-queryCardinality"><strong>queryCardinality</strong></a>(self, field: str) -&gt; int</dt><dd><tt>Retrieve&nbsp;the&nbsp;number&nbsp;of&nbsp;unique&nbsp;values&nbsp;of&nbsp;&lt;field&gt;&nbsp;(cardniality)<br>
Adds&nbsp;self.<strong>filter</strong>&nbsp;if&nbsp;set</tt></dd></dl>

<dl><dt><a name="xelastic-queryIndex"><strong>queryIndex</strong></a>(self, body, mode=None)</dt><dd><tt>Returns&nbsp;list&nbsp;of&nbsp;requested&nbsp;rows&nbsp;and&nbsp;total&nbsp;count&nbsp;of&nbsp;matching&nbsp;rows<br>
If&nbsp;no&nbsp;results&nbsp;-&nbsp;returns&nbsp;empty&nbsp;list&nbsp;and&nbsp;0<br>
When&nbsp;error&nbsp;returns&nbsp;empty&nbsp;list&nbsp;and&nbsp;the&nbsp;error&nbsp;type&nbsp;(string)<br>
Adds&nbsp;self.<strong>filter</strong>&nbsp;if&nbsp;set</tt></dd></dl>

<dl><dt><a name="xelastic-request"><strong>request</strong></a>(self, command='POST', endpoint='', seq_primary=None, refresh=None, body: dict = None, xdate=None, use_index_key=True, mode=None)</dt><dd><tt>Wrapper&nbsp;on&nbsp;_request_json.&nbsp;Converts&nbsp;dictionary&nbsp;&lt;body&gt;&nbsp;to&nbsp;json&nbsp;string<br>
&nbsp;<br>
NB!!&nbsp;Does&nbsp;not&nbsp;use&nbsp;self.<strong>filter</strong></tt></dd></dl>

<dl><dt><a name="xelastic-save"><strong>save</strong></a>(self, body, xid=None, seq_primary=None, refresh=None, xdate=None, mode=None)</dt><dd><tt>Index&nbsp;an&nbsp;item<br>
Adds&nbsp;to&nbsp;the&nbsp;data&nbsp;body&nbsp;self.<strong>terms</strong>&nbsp;to&nbsp;save&nbsp;the&nbsp;data&nbsp;of&nbsp;the&nbsp;terms&nbsp;fields<br>
&nbsp;<br>
Returns&nbsp;id&nbsp;of&nbsp;the&nbsp;created&nbsp;item&nbsp;or&nbsp;None&nbsp;on&nbsp;failure</tt></dd></dl>

<dl><dt><a name="xelastic-scroll"><strong>scroll</strong></a>(self, mode=None)</dt><dd><tt>Returns&nbsp;the&nbsp;next&nbsp;item&nbsp;from&nbsp;the&nbsp;scroll&nbsp;buffer&nbsp;(the&nbsp;item&nbsp;of&nbsp;ES&nbsp;hits&nbsp;list).<br>
&nbsp;<br>
If&nbsp;the&nbsp;process&nbsp;is&nbsp;not&nbsp;initialized&nbsp;yet&nbsp;executes&nbsp;the&nbsp;first&nbsp;scroll&nbsp;request<br>
If&nbsp;the&nbsp;buffer&nbsp;is&nbsp;empty,&nbsp;retrieves&nbsp;the&nbsp;next&nbsp;batch&nbsp;of&nbsp;items</tt></dd></dl>

<dl><dt><a name="xelastic-scroll_close"><strong>scroll_close</strong></a>(self, mode=None)</dt><dd><tt>Removes&nbsp;the&nbsp;scroll&nbsp;buffer.</tt></dd></dl>

<dl><dt><a name="xelastic-scroll_set"><strong>scroll_set</strong></a>(self, body=None, mode=None)</dt><dd><tt>Initializes&nbsp;a&nbsp;new&nbsp;scroll.&nbsp;Scroll&nbsp;is&nbsp;set&nbsp;no&nbsp;matter&nbsp;of&nbsp;mode&nbsp;value.<br>
&nbsp;<br>
Batch&nbsp;ends&nbsp;when&nbsp;scroll&nbsp;returns&nbsp;None</tt></dd></dl>

<dl><dt><a name="xelastic-scroll_total"><strong>scroll_total</strong></a>(self, mode=None)</dt><dd><tt>Retrieves&nbsp;the&nbsp;total&nbsp;count&nbsp;of&nbsp;rows&nbsp;matching&nbsp;the&nbsp;request<br>
ES&nbsp;count&nbsp;method&nbsp;used&nbsp;as&nbsp;search&nbsp;does&nbsp;not&nbsp;return&nbsp;the&nbsp;exact&nbsp;count&nbsp;for<br>
large&nbsp;sets</tt></dd></dl>

<dl><dt><a name="xelastic-setRefresh"><strong>setRefresh</strong></a>(self, period='1s', mode=None)</dt><dd><tt>Sets&nbsp;refresh&nbsp;interval&nbsp;for&nbsp;the&nbsp;index&nbsp;xkey&nbsp;to&nbsp;period.<br>
Period&nbsp;has&nbsp;form&nbsp;'xxxs'&nbsp;where&nbsp;xxx&nbsp;is&nbsp;number&nbsp;of&nbsp;seconds</tt></dd></dl>

<dl><dt><a name="xelastic-setSource"><strong>setSource</strong></a>(self, source)</dt><dd><tt>Changes&nbsp;the&nbsp;source</tt></dd></dl>

<dl><dt><a name="xelastic-setUpdBody"><strong>setUpdBody</strong></a>(self, name: str, upd_fields: list = None, del_fields: list = None, mode=None)</dt><dd><tt>name&nbsp;-&nbsp;name&nbsp;of&nbsp;th&nbsp;update&nbsp;script<br>
upd_fields&nbsp;-&nbsp;fields&nbsp;to&nbsp;update<br>
del_fields&nbsp;-&nbsp;fields&nbsp;to&nbsp;remove<br>
mode&nbsp;not&nbsp;used</tt></dd></dl>

<dl><dt><a name="xelastic-start"><strong>start</strong></a>(self, span: str) -&gt; Optional[int]</dt><dd><tt>Returns&nbsp;the&nbsp;start&nbsp;epoch&nbsp;of&nbsp;the&nbsp;span</tt></dd></dl>

<dl><dt><a name="xelastic-termvectors"><strong>termvectors</strong></a>(self, xid: str, xfield: str, mode=None)</dt><dd><tt>Retrieves&nbsp;term&nbsp;vector&nbsp;data&nbsp;for&nbsp;the&nbsp;item&nbsp;&lt;id&gt;</tt></dd></dl>

<dl><dt><a name="xelastic-updateFields"><strong>updateFields</strong></a>(self, name: str, xfilter: dict, values: dict = None, xdate=None, refresh=None, mode=None)</dt><dd><tt>Update&nbsp;/&nbsp;delete&nbsp;fields&nbsp;for&nbsp;items&nbsp;filtered&nbsp;by&nbsp;xfilter&nbsp;(update&nbsp;by&nbsp;query)<br>
If&nbsp;update&nbsp;body&nbsp;&lt;name&gt;&nbsp;has&nbsp;update&nbsp;fields,&nbsp;&lt;values&gt;&nbsp;must&nbsp;be&nbsp;specified<br>
&nbsp;<br>
Returns&nbsp;number&nbsp;of&nbsp;updated&nbsp;items&nbsp;if&nbsp;updates&nbsp;successful,&nbsp;-1&nbsp;otherwise<br>
Logs&nbsp;errors&nbsp;on&nbsp;failure<br>
{"took":&nbsp;?,&nbsp;"timed_out":&nbsp;false,&nbsp;"total":&nbsp;?,&nbsp;"updated":&nbsp;?,&nbsp;...}</tt></dd></dl>

<dl><dt><a name="xelastic-updateFieldsById"><strong>updateFieldsById</strong></a>(self, name: str, xid: str, values: dict = None, xdate=None, seq_primary=None, refresh=None, mode=None)</dt><dd><tt>Update&nbsp;fields&nbsp;for&nbsp;item&nbsp;with&nbsp;ident&nbsp;&lt;xid&gt;<br>
&nbsp;<br>
If&nbsp;&lt;seq_primary&gt;&nbsp;is&nbsp;specified&nbsp;as&nbsp;a&nbsp;tuple&nbsp;(item_seq,&nbsp;primary_term),<br>
updates&nbsp;only&nbsp;if&nbsp;the&nbsp;_item_seq&nbsp;and&nbsp;_primary_term&nbsp;of&nbsp;the&nbsp;item<br>
matches&nbsp;ones&nbsp;specified<br>
&nbsp;<br>
Returns&nbsp;the&nbsp;update&nbsp;response&nbsp;in&nbsp;form<br>
{'_index':&nbsp;?,&nbsp;'_type':&nbsp;'_doc',&nbsp;'_id':&nbsp;?,&nbsp;'_version':&nbsp;?,&nbsp;'result':&nbsp;'updated',<br>
&nbsp;'_shards':&nbsp;{'total':&nbsp;?,&nbsp;'successful':&nbsp;?,&nbsp;'failed':&nbsp;?},<br>
&nbsp;'_seq_no':&nbsp;?,&nbsp;'_primary_term':&nbsp;?}<br>
&nbsp;<br>
or&nbsp;None&nbsp;on&nbsp;failure</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>Any</strong> = typing.Any<br>
<strong>Dict</strong> = typing.Dict<br>
<strong>Optional</strong> = typing.Optional<br>
<strong>SPAN_ALL</strong> = 'all'<br>
<strong>Tuple</strong> = typing.Tuple</td></tr></table>
</body></html>